show_trade_zones_button = {
	scope = country
	effect = {
        every_trade_center = {
            root = {
                add_to_variable_list = {
                    name = trade_zones_list
                    target = prev
                }
            }
        }
	}
}
remove_trade_zones_list_button = {
	scope = country
	effect = {
        every_in_list = {
            variable = trade_zones_list
            root = {
	            remove_list_variable = {
	                name = trade_zones_list
	                target = prev
	            }
	        }
        }		
	}
}
show_governorships_button = {
	scope = country
	effect = {
        every_governorships = {
            root = {
                add_to_variable_list = {
                    name = governorships_list
                    target = prev
                }
            }
        }
	}
}
remove_governorships_list_button = {
	scope = country
	effect = {
        every_in_list = {
            variable = governorships_list
            root = {
	            remove_list_variable = {
	                name = governorships_list
	                target = prev
	            }
	        }
        }		
	}
}

shortage_alert_livestock = { # WIP
    scope = country

    visible = {
        any_governorships = {
            var:shortage_livestock > 0
        }
    }
    effect = {
        custom_tooltip = shortage_livestock_tt
    }
}

# Currency GUI

CURRENCY_increase_reserve_accumulation_gold = {
    scope = country
    ai_is_valid = {
        always = no
    }
    effect = {
        change_variable = {
            name = gold_accumulation_rate
            add = 1
        }
    }
}

CURRENCY_decrease_reserve_accumulation_gold = {
    scope = country
    ai_is_valid = {
        always = no
    }
    is_valid = {
        var:gold_accumulation_rate > 0
    }
    effect = {
        change_variable = {
            name = gold_accumulation_rate
            subtract = 1
        }
    }
}

CURRENCY_increase_reserve_accumulation_gold_10x = {
    scope = country
    ai_is_valid = {
        always = no
    }
    effect = {
        change_variable = {
            name = gold_accumulation_rate
            add = 10
        }
    }
}

CURRENCY_decrease_reserve_accumulation_gold_10x = {
    scope = country
    ai_is_valid = {
        always = no
    }
    is_valid = {
        var:gold_accumulation_rate > 0
    }
    effect = {
        set_local_variable = {
            name = max_change
            value = var:gold_accumulation_rate
        }
        change_local_variable = {
            name = max_change
            subtract = 10
        }
        if = {
            limit = {
                local_var:max_change < 0
            }
            set_variable = {
                name = gold_accumulation_rate
                value = 0
            }
        }
        else = {
            change_variable = {
                name = gold_accumulation_rate
                subtract = 10
            }
        }
    }
}

CURRENCY_increase_reserve_accumulation_silver = {
    scope = country
    ai_is_valid = {
        always = no
    }
    effect = {
        change_variable = {
            name = silver_accumulation_rate
            add = 1
        }
    }
}
CURRENCY_decrease_reserve_accumulation_silver = {
    scope = country
    ai_is_valid = {
        always = no
    }
    effect = {
        change_variable = {
            name = silver_accumulation_rate
            subtract = 1
        }
    }
}

CURRENCY_decrease_reserve_accumulation_silver_10x = {
    scope = country
    ai_is_valid = {
        always = no
    }
    is_valid = {
        var:silver_accumulation_rate > 0
    }
    effect = {
        set_local_variable = {
            name = max_change
            value = var:silver_accumulation_rate
        }
        change_local_variable = {
            name = max_change
            subtract = 10
        }
        if = {
            limit = {
                local_var:max_change < 0
            }
            set_variable = {
                name = silver_accumulation_rate
                value = 0
            }
        }
        else = {
            change_variable = {
                name = silver_accumulation_rate
                subtract = 10
            }
        }
    }
}
CURRENCY_increase_reserve_accumulation_silver_10x = {
    scope = country
    ai_is_valid = {
        always = no
    }
    effect = {
        change_variable = {
            name = silver_accumulation_rate
            add = 10
        }
    }
}

# National debt
CURRENCY_issue_national_debt = {
    scope = country
    ai_is_valid = {
        always = no
    }
    effect = {
        CURRENCY_alter_own_debt = {
            thousands = 1
            millions = 0
            billions = 0
        }
        add_treasury = CURRENCY_wealth_value_1k_units
    }
}

CURRENCY_issue_national_debt_10k = {
    scope = country
    ai_is_valid = {
        always = no
    }
    effect = {
        CURRENCY_alter_own_debt = {
            thousands = 10
            millions = 0
            billions = 0
        }
        add_treasury = CURRENCY_wealth_value_10k_units
    }
}

CURRENCY_issue_national_debt_100k = {
    scope = country
    ai_is_valid = {
        always = no
    }
    effect = {
        CURRENCY_alter_own_debt = {
            thousands = 100
            millions = 0
            billions = 0
        }
        while = {
            count = 10
            limit = {
                always = yes
            }
            add_treasury = CURRENCY_wealth_value_10k_units
        }
    }
}

CURRENCY_issue_national_debt_1m = {
    scope = country
    ai_is_valid = {
        always = no
    }
    effect = {
        CURRENCY_alter_own_debt = {
            thousands = 0
            millions = 1
            billions = 0
        }
        while = {
            count = 100
            limit = {
                always = yes
            }
            add_treasury = CURRENCY_wealth_value_10k_units
        }
    }
}

CURRENCY_repay_national_debt = {
    scope = country
    effect = {
        CURRENCY_alter_own_debt = {
            thousands = -1
            millions = 0
            billions = 0
        }
        add_treasury = CURRENCY_wealth_value_1k_units_negative
    }
}

CURRENCY_repay_national_debt_10k = {
    scope = country
    effect = {
        CURRENCY_alter_own_debt = {
            thousands = -10
            millions = 0
            billions = 0
        }
        add_treasury = CURRENCY_wealth_value_10k_units_negative
    }
}

CURRENCY_repay_national_debt_100k = {
    scope = country
    effect = {
        CURRENCY_alter_own_debt = {
            thousands = -100
            millions = 0
            billions = 0
        }
        while = {
            count = 10
            limit = {
                always = yes
            }
            add_treasury = CURRENCY_wealth_value_10k_units_negative
        }
    }
}

CURRENCY_repay_national_debt_1m = {
    scope = country
    effect = {
        CURRENCY_alter_own_debt = {
            thousands = 0
            millions = -1
            billions = 0
        }
        while = {
            count = 100
            limit = {
                always = yes
            }
            add_treasury = CURRENCY_wealth_value_10k_units_negative
        }
    }
}

# Cash minting and recall rates

CURRENCY_increase_minting_rate = {
    # Scope: Country
    # Increases the minting rate of new currency by 1,000
    scope = country
    effect = {
        if = {
            limit = {
                var:CURRENCY_minting_rate < CURRENCY_minting_rate_cap
            }
            change_variable = {
                name = CURRENCY_minting_rate
                add = 1
            }
        }
    }
}

CURRENCY_increase_minting_rate_10k = {
    # Scope: Country
    # Increases the minting rate of new currency by 1,000
    scope = country
    effect = {
        if = {
            limit = {
                var:CURRENCY_minting_rate < CURRENCY_minting_rate_cap
            }
            change_variable = {
                name = CURRENCY_minting_rate
                add = 10
            }
            if = {
                limit = {
                    var:CURRENCY_minting_rate > CURRENCY_minting_rate_cap
                }
                set_variable = {
                    name = CURRENCY_minting_rate
                    value = CURRENCY_minting_rate_cap
                }
            }
        }
    }
}


CURRENCY_decrease_minting_rate = {
    # Scope: Country
    # Increases the minting rate of new currency by 1,000
    scope = country
    effect = {
        if = {
            limit = {
                var:CURRENCY_minting_rate > 0
            }
            change_variable = {
                name = CURRENCY_minting_rate
                subtract = 1
            }
        }
    }
}

CURRENCY_decrease_minting_rate_10k = {
    # Scope: Country
    # Increases the minting rate of new currency by 1,000
    scope = country
    effect = {
        if = {
            limit = {
                var:CURRENCY_minting_rate > 0
            }
            change_variable = {
                name = CURRENCY_minting_rate
                subtract = 10
            }
            if = {
                limit = {
                    var:CURRENCY_minting_rate < 0
                }
                set_variable = {
                    name = CURRENCY_minting_rate
                    value = 0
                }
            }
        }
    }
}

CURRENCY_sell_off_reserve_gold = {
    # Scope: Country
    # Sells off 100 lbs (1 unit) of gold from the reserve, if available, placing it in the capital governorship's stockpile and granting the government the equivalent wealth value
    scope = country
    effect = {
        if = {
            limit = {
                var:gold_reserve_size > 0
            }
            change_variable = {
                name = gold_reserve_size
                subtract = 1
            }
            add_treasury = global_var:global_base_import_price_gold
            capital_scope.governorship = {
                change_variable = {
                    name = gold_stockpile
                    add = 1
                }
            }
        }
    }
}

CURRENCY_sell_off_reserve_silver = {
    # Scope: Country
    # Sells off 100 lbs (1 unit) of silver from the reserve, if available, placing it in the capital governorship's stockpile and granting the government the equivalent wealth value
    scope = country
    effect = {
        if = {
            limit = {
                var:silver_reserve_size > 0
            }
            change_variable = {
                name = silver_reserve_size
                subtract = 1
            }
            add_treasury = global_var:global_base_import_price_silver
            capital_scope.governorship = {
                change_variable = {
                    name = silver_stockpile
                    add = 1
                }
            }
        }
    }
}

CURRENCY_sell_off_reserve_silver_10 = {
    # Scope: Country
    # Sells off 100 lbs (1 unit) of silver from the reserve, if available, placing it in the capital governorship's stockpile and granting the government the equivalent wealth value
    scope = country
    effect = {
        if = {
            limit = {
                var:silver_reserve_size > 10
            }
            change_variable = {
                name = silver_reserve_size
                subtract = 10
            }
            add_treasury = CURRENCY_global_base_import_price_silver_10
            capital_scope.governorship = {
                change_variable = {
                    name = silver_stockpile
                    add = 10
                }
            }
        }
    }
}

CURRENCY_sell_off_reserve_gold_10 = {
    # Scope: Country
    # Sells off 100 lbs (1 unit) of gold from the reserve, if available, placing it in the capital governorship's stockpile and granting the government the equivalent wealth value
    scope = country
    effect = {
        if = {
            limit = {
                var:gold_reserve_size > 10
            }
            change_variable = {
                name = gold_reserve_size
                subtract = 10
            }
            add_treasury = CURRENCY_global_base_import_price_gold_10
            capital_scope.governorship = {
                change_variable = {
                    name = gold_stockpile
                    add = 10
                }
            }
        }
    }
}